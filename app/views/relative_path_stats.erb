<h1><%= @relative_path_stats.identifier.capitalize %> Statistics for <%= @relative_path %></h1>

<h2>Response Times</h2>
<table id="response-times">
  <tr>
    <td>Longest Response Time: <%= @relative_path_stats.response_times.fetch(:longest) %></td>
  </tr>
  <tr>
    <td>Shortest Response Time: <%= @relative_path_stats.response_times.fetch(:shortest) %></td>
  </tr>
  <tr>
    <td>Average Response Time: <%= @relative_path_stats.response_times.fetch(:average) %></td>
  </tr>
</table>

<h2>Types of Requests Received</h2>
<ul id="http-requests">
  <% @relative_path_stats.http_verbs.each do |verb| %>
    <li><%= verb %></li>
  <% end %>
</ul>

<h2>Top Referrers</h2>
<table id="referrers">
  <tr>
    <td>Number of Referrals</td>
    <td>Referrer</td>
  </tr>

  <% @relative_path_stats.top_referrers.each do |referrer| %>
  <tr>
    <td> <%= referrer.values.first %> </td>
    <td> <%= referrer.keys.first %> </td>
  </tr>
  <% end %>
</table>

<h2>Most Popular Agents</h2>
<table id="user-agents">
  <tr>
    <td>Number of Occurences</td>
    <td>User Agent</td>
  </tr>

  <% @relative_path_stats.top_user_agents.each do |agent| %>
  <tr>
    <td> <%= agent.values.first %> </td>
    <td> <%= agent.keys.first %> </td>
  </tr>
  <% end %>
</table>
